generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id            String   @id @default(cuid())
  email         String   @unique
  name          String?
  phone         String?
  youtubeHandle String?
  picked        Boolean  @default(false)
  pickedAt      DateTime?
  createdAt     DateTime @default(now())
}

/// Singleton settings row for admin credentials and site-wide config
model AdminSettings {
  // Use a fixed primary key so exactly one row exists
  id           String   @id @default("singleton")

  // Admin panel credentials (username + bcrypt hash)
  adminUser    String   @default("admin")
  adminPassHash String  @default("")

  // Example site settings
  siteTitle    String   @default("YT Subscribers")
  announcement String?  // optional banner/message

  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}
